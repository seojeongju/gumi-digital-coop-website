# 🔄 후이즈 URL 포워딩 설정 가이드

## 📍 전제조건
✅ gdamic.kr (루트) CNAME 레코드 삭제 완료

---

## 🎯 목표
gdamic.kr 접속 시 자동으로 www.gdamic.kr로 301 리다이렉트

---

## 🚀 단계별 실행

### STEP 1: 포워딩 서비스 화면 접속

**경로 A: 도메인 관리에서**
```
후이즈 도메인 목록
  ↓
gdamic.kr 클릭
  ↓
부가서비스 메뉴
  ↓
포워딩 서비스
```

**경로 B: 메뉴에서**
```
상단 메뉴바
  ↓
도메인/호스팅
  ↓
부가서비스
  ↓
포워딩 서비스
```

---

### STEP 2: URL 포워딩 설정 화면

**예상 화면:**
```
┌─────────────────────────────────────────┐
│ 포워딩 서비스                            │
├─────────────────────────────────────────┤
│                                          │
│ 도메인: gdamic.kr                        │
│                                          │
│ 포워딩 타입 선택:                        │
│  ○ 프레임 포워딩 (iframe 사용)          │
│  ● URL 리다이렉트 (301)  ← 선택!       │
│                                          │
│ 대상 URL: [                    ]        │
│                                          │
│ [설정] [취소]                            │
└─────────────────────────────────────────┘
```

---

### STEP 3: 설정 입력

#### 입력값:

| 항목 | 값 | 설명 |
|------|-----|------|
| **소스 도메인** | `gdamic.kr` | 자동 선택됨 |
| **포워딩 타입** | `301 리다이렉트` 또는 `URL 리다이렉트` | 프레임 아님! |
| **대상 URL** | `https://www.gdamic.kr` | HTTPS 포함 필수 |
| **경로 유지** | `체크` (옵션) | 예: /about → /about 유지 |

#### 정확한 입력:

```
대상 URL 필드에 입력:
https://www.gdamic.kr
```

**⚠️ 주의:**
- `https://` 프로토콜 포함 필수
- 마지막 슬래시(/) 없이 입력
- `www.` 포함 필수

---

### STEP 4: 포워딩 타입 선택

**추천: 301 영구 리다이렉트**

#### 옵션 설명:

**301 리다이렉트 (추천) ✅**
```
- SEO 친화적
- 브라우저 주소창이 www.gdamic.kr로 변경됨
- 검색엔진이 www를 메인 도메인으로 인식
```

**프레임 포워딩 (권장 안 함) ❌**
```
- iframe 사용
- 주소창이 gdamic.kr로 유지
- SEO에 불리
- SSL 인증서 문제 가능
```

---

### STEP 5: 경로 유지 설정 (옵션)

**경로 유지 ON:**
```
gdamic.kr/about → www.gdamic.kr/about
gdamic.kr/contact → www.gdamic.kr/contact
```

**경로 유지 OFF:**
```
gdamic.kr/about → www.gdamic.kr (루트)
gdamic.kr/contact → www.gdamic.kr (루트)
```

**추천:** 경로 유지 ON (체크)

---

### STEP 6: 저장 및 적용

1. **입력값 재확인**
   - 대상 URL: `https://www.gdamic.kr`
   - 포워딩 타입: 301 리다이렉트
   - 경로 유지: 체크

2. **"설정" 또는 "저장" 버튼** 클릭

3. **확인 팝업**에서 "확인" 클릭

---

## ✅ 설정 완료 확인

### 확인 메시지:
```
"URL 포워딩이 설정되었습니다"
또는
"포워딩 서비스가 활성화되었습니다"
```

### 설정 목록 확인:
```
┌─────────────────────────────────────────┐
│ 포워딩 서비스 설정 목록                  │
├─────────────────────────────────────────┤
│ gdamic.kr → https://www.gdamic.kr      │
│ 타입: 301 리다이렉트                     │
│ 상태: 활성                               │
└─────────────────────────────────────────┘
```

---

## 🧪 테스트 방법

### 테스트 1: 루트 도메인
```
브라우저 주소창에 입력: http://gdamic.kr

예상 결과:
1. 즉시 리다이렉트
2. 주소창이 https://www.gdamic.kr로 변경
3. 웹사이트 로딩 (Cloudflare Pages)
```

### 테스트 2: HTTPS 루트 도메인
```
브라우저 주소창에 입력: https://gdamic.kr

예상 결과:
1. 리다이렉트 (SSL 인증서 확인 후)
2. https://www.gdamic.kr로 변경
3. 웹사이트 로딩
```

### 테스트 3: 경로 유지 확인
```
브라우저 주소창에 입력: http://gdamic.kr/about

예상 결과:
1. 리다이렉트
2. https://www.gdamic.kr/about로 변경
3. About 페이지 로딩
```

### 테스트 4: www 직접 접속
```
브라우저 주소창에 입력: https://www.gdamic.kr

예상 결과:
1. 리다이렉트 없이 직접 로딩
2. 주소 변경 없음
3. 웹사이트 정상 표시
```

---

## 🔍 브라우저 개발자 도구로 확인

### Chrome/Edge:
```
1. F12 (개발자 도구 열기)
2. Network 탭 선택
3. http://gdamic.kr 접속
4. 첫 번째 요청 확인:
   - Status: 301 Moved Permanently
   - Location: https://www.gdamic.kr
```

---

## ⏰ 적용 시간

### 즉시 적용:
- 후이즈 URL 포워딩: 즉시 작동
- 테스트 가능: 설정 직후부터

### 전체 전파:
- DNS 캐시 갱신: 최대 1시간 (TTL 3600)
- 일부 ISP: 최대 24시간

---

## ⚠️ 문제 해결

### 문제 1: "CNAME이 설정되어 있음" 에러
**원인:** gdamic.kr CNAME 레코드가 아직 남아있음

**해결:**
1. DNS 호스트 관리로 돌아가기
2. gdamic.kr CNAME 레코드 삭제
3. 5분 후 다시 URL 포워딩 설정 시도

---

### 문제 2: 리다이렉트가 작동 안 함
**확인사항:**
- 브라우저 캐시 삭제 (Ctrl+Shift+Delete)
- 시크릿/프라이빗 모드로 테스트
- 5-10분 후 재시도

**해결:**
- 설정 확인: 대상 URL에 `https://` 포함 확인
- 포워딩 타입: 301 리다이렉트 선택 확인
- 상태: 활성화 확인

---

### 문제 3: SSL 인증서 에러
**원인:** gdamic.kr 자체에 SSL 인증서 없음

**해결:**
- 정상 동작: 리다이렉트 후 www.gdamic.kr의 SSL 사용
- 브라우저가 자동으로 HTTPS로 업그레이드
- 문제 없음 (예상된 동작)

---

### 문제 4: 무한 리다이렉트 루프
**원인:** 순환 리다이렉트 설정

**확인:**
- www.gdamic.kr도 포워딩 설정되지 않았는지 확인
- 대상 URL이 정확한지 확인

**해결:**
- www.gdamic.kr 포워딩 설정 삭제
- gdamic.kr → www.gdamic.kr만 설정

---

## 📊 최종 구성 확인

### DNS 레코드:
```
www.gdamic.kr → gumi-digital-coop-website.pages.dev (CNAME)
```

### URL 포워딩:
```
gdamic.kr → https://www.gdamic.kr (301 리다이렉트)
```

### Cloudflare Pages:
```
www.gdamic.kr (Active + SSL)
```

### 사용자 경험:
```
gdamic.kr 입력
  ↓ (301)
www.gdamic.kr 표시
  ↓
Cloudflare Pages 로딩 (HTTPS)
```

---

## 📞 추가 지원

**후이즈 고객센터**: 1544-2424

**요청 예시:**
```
"gdamic.kr을 https://www.gdamic.kr로 
301 리다이렉트하는 URL 포워딩을 설정하고 싶습니다."
```

---

## 🎉 완료!

설정이 완료되면:
- ✅ www.gdamic.kr: 직접 Cloudflare Pages 연결
- ✅ gdamic.kr: 자동으로 www로 리다이렉트
- ✅ SSL 인증서: Cloudflare에서 자동 관리
- ✅ SEO: 301 리다이렉트로 최적화

**예상 소요 시간**: 5-10분
